var shares=null;function sharePlate(){plus.share.getServices(function(e){shares={};for(var n in e){var i=e[n];shares[i.id]=i}console.log("获取分享服务列表成功")},function(e){console.log("获取分享服务列表失败："+e.message)})}function shareAction(e,n,i,s,t,o){plus.nativeUI.showWaiting("正在分享");var a=s;setTimeout(function(){plus.nativeUI.closeWaiting()},3e3);if(i==""||i==undefined){i="新华快讯APP"}if(mui.os.android){s="每天学习一点，生活更加美好。"}else{s="每天学习一点，生活更加美好。"+s}if(t==""||t==undefined){}if(o==""||o==undefined){o=""}if(t=="none"){t=""}if(e=="sinaweibo"){if(mui.os.android){s="";s=i}else{s=i+a}}var u=null;if(!e||!(u=shares[e])){mui.toast("无效的分享服务！");return}if(u.authenticated){console.log("---已授权---");shareMessage(u,n,i,s,t,o)}else{console.log("---未授权---");u.authorize(function(){shareMessage(u,n,i,s,t,o)},function(e){plus.nativeUI.closeWaiting();mui.toast("认证授权失败")})}}function shareMessage(e,n,i,s,t,o){var a={content:"分享-详情",href:o,title:i,content:s,thumbs:[t],pictures:[t],extra:{scene:n}};e.send(a,function(){plus.nativeUI.closeWaiting();mui.toast("分享成功!")},function(e){plus.nativeUI.closeWaiting();mui.toast("分享失败!")})}